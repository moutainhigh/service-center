<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shengsu.lawcase.mapper.LawcaseMapper">
	<resultMap id="lawcase_result_map" type="lawcase" >
    </resultMap>

    <select id="get" parameterType="string" resultMap="lawcase_result_map">
        select
          *
        from
          lawcase
        where
            case_id = #{caseId}
    </select>

    <select id="getInvestLawcaseList" parameterType="lawcase" resultMap="lawcase_result_map">
        select
          *
        from
          lawcase
        where
          del_flag = 0 and
          is_bid_case = 1 and
          filed = 0 and
          approve_status = 2
        <if test="search != null and  search != ''">
            <bind name="pattern" value="search" />
            and concat(ifnull(case_code,''),ifnull(case_name,'')) like concat('%',#{pattern},'%') escape'/'
        </if>
    </select>
    <select id="getMany" parameterType="java.util.List" resultMap="lawcase_result_map">
        select
        *
        from
        lawcase
        where
        case_id in
        <foreach collection="list" item="caseId" open="(" separator="," close=")">
            #{caseId}
        </foreach>
    </select>
</mapper>
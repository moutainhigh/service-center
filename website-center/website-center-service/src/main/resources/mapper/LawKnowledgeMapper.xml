<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shengsu.website.bdapp.mapper.LawKnowledgeMapper">
	<!-- Result Map-->
	<resultMap id="lawknowledge_result_map" type="lawKnowledge">
	</resultMap>
	<sql id="base_column_list">
    	id,
    	knowledge_id,
    	first_category_id,
    	second_category_id,
    	third_category_id,
    	title,
    	content,
    	date_time,
    	source,
    	pv,
    	picture_oss_id
  	</sql>
	<!-- 查询条件 -->
	<sql id="lawknowledge_where_clause">
		<where>
			del_flag = 0
			<if test="firstCategoryId != null and  firstCategoryId != ''"> and first_category_id = #{firstCategoryId}</if>
			<if test="secondCategoryId != null and  secondCategoryId != ''"> and second_category_id = #{secondCategoryId}</if>
			<if test="thirdCategoryId != null and  thirdCategoryId != ''"> and third_category_id = #{thirdCategoryId}</if>
		</where>
	</sql>
	<select id="countAll"  parameterType="lawKnowledge" resultType="int">
		select count(1) from law_knowledge <include refid="lawknowledge_where_clause" />
	</select>
	<select id="listByPage" parameterType="lawKnowledge" resultType="lawKnowledge">
		<include refid="global.paginationStart_mysql" />
		SELECT knowledge_id,title FROM law_knowledge
		<include refid="lawknowledge_where_clause" />
		ORDER BY date_time DESC
		<include refid="global.paginationEnd_mysql" />

	</select>
</mapper>